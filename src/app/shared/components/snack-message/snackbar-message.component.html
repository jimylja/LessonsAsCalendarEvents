<ng-container *ngIf="data">
  <h4 *ngIf="data.type==='exportMessage'" class="message-title">Exporting...</h4>
  <h4 *ngIf="data.type==='errorMessage'" class="message-title">Помилка</h4>
  <div class="message-body">
    <mat-spinner *ngIf="(data.type) === 'exportMessage'" class="message-spinner" diameter="32"></mat-spinner>
    <ng-container *ngIf="data.message|async as message">
      <div class="message-content">
        <ng-container *ngIf="(data.type) === 'exportMessage';else customMessage">
          <div>
            <span>Експортовано:</span>
            <span class="total">{{message.exportSuccess.total}}</span>
          </div>
          <div>
            <span class="event-title">{{message.exportSuccess.lastEvent}}</span>
          </div>
          <div *ngIf="message.exportFail.total>0">
            <span>Помилка:</span>
            <span class="total">{{message.exportFail.total}}</span>
          </div>
          <div>
            <span class="event-title">{{message.exportFail.lastEvent}}</span>
          </div>
        </ng-container>
      </div>
    </ng-container>
  </div>
</ng-container>

<ng-template #customMessage>
  <div><span>{{data.message|async}}</span></div>
</ng-template>
